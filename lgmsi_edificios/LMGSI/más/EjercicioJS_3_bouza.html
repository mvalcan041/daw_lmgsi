<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicios 1 JavaScript</title>
</head>
<body>
    <p>Resultado de los ejercicios:</p>

<script>
    function Edificio(calle, numero, codigoPostal) {
        this.calle = calle;
        this.numero = numero;
        this.codigoPostal = codigoPostal;
        this.plantas = [];
        
        document.write(`Construido un nuevo edificio en la calle: ${calle}, nº: ${numero}, CP: ${codigoPostal}. <br>`);
    }

    Edificio.prototype.agregarPlantasYPuertas = function(numPlantas, puertas) {
        for (let i = 0; i < numPlantas; i++) {
            this.plantas.push(new Array(puertas).fill(null));
        }
    }

    Edificio.prototype.modificarNumero = function(numero) {
        this.numero = numero;
    }

    Edificio.prototype.modificarCalle = function(calle) {
        this.calle = calle;
    }

    Edificio.prototype.modificarCodigoPostal = function(codigo) {
        this.codigoPostal = codigo;
    }

    Edificio.prototype.imprimeCalle = function() {
        document.write(this.calle);
    }

    Edificio.prototype.imprimeNumero = function() {
        return this.numero;
    }

    Edificio.prototype.imprimeCodigoPostal = function() {
        return this.codigoPostal;
    }

    Edificio.prototype.agregarPropietario = function(nombre, planta, puerta) {
        this.plantas[planta][puerta] = nombre;
        document.write(`${nombre} es ahora el propietario de la puerta ${puerta} de la planta ${planta}. <br>`);
    }

    Edificio.prototype.imprimePlantas = function() {
        this.plantas.forEach((plantas, numPlanta) => {
            plantas.forEach((propietario, numPuerta) => {
                if (propietario !== null) {
                    document.write(`Propietario del piso ${numPuerta + 1} de la planta ${numPlanta + 1}: ${propietario}. <br>`);
                } else {
                    document.write(`Propietario del piso ${numPuerta + 1} de la planta ${numPlanta + 1}:<br>`);
                }
            });
        });
    }

    //Instanciamos 3 objetos edificioA, edificioB y edificioC
    let edificioA = new Edificio("Garcia Prieto", 58, "15706");
    let edificioB = new Edificio("Camino Caneiro", 29, "32004");
    let edificioC = new Edificio("San Clemente", "s/n", "15705");
    document.write(`El código postal del edificio A es: ${edificioA.imprimeCodigoPostal}<br>`)
    document.write(`La calle del edificio C es: ${edificioC.imprimeCalle}<br>`)
    document.write(`El edificio B está situado en la calle ${edificioB.imprimeCalle} número ${edificioB.imprimeNumero}<br>`)

    document.write("<br>")

    //Agregamos 2 plantas y 3 puertas por planta al edificio A... 
    edificioA.agregarPlantasYPuertas(2, 3)

    //Agregamos 4 propietarios al edificio A...
    edificioA.agregarPropietario("Jose Antonio Lopez", 0, 0)
    edificioA.agregarPropietario("Luisa Martinez", 0, 1)
    edificioA.agregarPropietario("Marta Castellón", 0, 2)
    edificioA.agregarPropietario("Antonio Pereira", 1, 1)

    document.write("<br>")

    //Imprimimos el edificio A...
    edificioA.imprimePlantas()

    document.write("<br>")

    //Agregamos 1 planta más al edificio A... 
    edificioA.agregarPlantasYPuertas(1, 3)

    //Agregamos 1 propietario más al edificio A planta 3, puerta 2...
    edificioA.agregarPropietario("Pedro Mejide", 2, 1)

    document.write("<br>")

    //Imprimimos el edificio A...
    edificioA.imprimePlantas()
    
    
</script>

</body>
</html>